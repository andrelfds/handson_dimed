<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:ui="http://java.sun.com/jsf/facelets" 
xmlns:h="http://java.sun.com/jsf/html" 
xmlns:f="http://java.sun.com/jsf/core" 
xmlns:p="http://primefaces.org/ui" 
xmlns:pe="http://primefaces.org/ui/extensions">

<ui:composition template="/WEB-INF/facelets/templates/defaultLayout.xhtml">
	<ui:define name="title">
		<h:outputText value="#{msg.windowTitleCustomer}" />
	</ui:define>
	<ui:define name="content">
		<h:body>
			<h:form prependId="false" id="formCustomer">
				<p:panel header="Customer Details" id="idPanel">
					<h:panelGrid columns="2" columnClasses="formColumn1,formColumn2">
						<h:outputText value="Firstname: *" />
						<p:inputText required="true" label="Firstname" value="#{customerMB.customer.name}" />
						<h:outputText value="Registration Document: *" />
						<p:inputText label="Lastname" value="#{customerMB.customer.registrationDocument}" />
						<h:outputText value="Personal Type " />
						<p:selectOneMenu value="#{customerMB.customer.personalType}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<f:selectItem itemLabel="Individual Physical" itemValue="IndividualPhysical" />
							<f:selectItem itemLabel="Juridical Person" itemValue="JuridicalPerson" />
						</p:selectOneMenu>
					</h:panelGrid>
					<p:commandButton value="Add Customer" actionListener="#{customerMB.save}" style="margin-top: 10px;" icon="ui-icon-disk" update="@form" />
				</p:panel>
			</h:form>
			<h:form prependId="false" id="formAddress">
				<p:panel header="Address Details">
					<h:panelGrid columns="4" columnClasses="formColumn1,formColumn2">
						<h:outputText value="Street: " />
						<p:inputText value="#{customerMB.address.street}" />
						<h:outputText value="Number: " />
						<p:inputText value="#{customerMB.address.number}" />
						<h:outputText value="Addition: " />
						<p:inputText value="#{customerMB.address.addition}" />
						<h:outputText value="City: " />
						<p:inputText value="#{customerMB.address.city}" />
						<h:outputText value="District: " />
						<p:inputText value="#{customerMB.address.district}" />
						<h:outputText value="State: " />
						<p:inputText value="#{customerMB.address.state}" />
						<h:outputText value="Postal Code: " />
						<p:inputText value="#{customerMB.address.zip}" />
					</h:panelGrid>
					<p:commandButton value="Add Address" actionListener="#{customerMB.addAddress}" style="margin-top: 10px;" icon="ui-icon-disk" update="formAddress" />
				</p:panel>
			</h:form>
			<h:form prependId="false" id="formList">
				<p:panel header="List">
					<p:dataTable  value="#{customerMB.listCustomers()}" var="cust" rowKey="#{cust.id}">
						<f:facet name="header">
							<h:outputLabel value="#{msg.listCustomers}" />
						</f:facet>
						<p:column style="width:18px">
							<p:rowToggler />
						</p:column>
						<p:column headerText="Id">
							<h:outputText value="#{cust.id}" />
						</p:column>
						<p:column headerText="#{msg.labelCustomerName}">
							<h:outputText value="#{cust.name}" />
						</p:column>
						<p:column headerText="#{msg.labelCustomerRegistrationDate}">
							<h:outputText value="#{cust.registrationDocument}" />
						</p:column>
						<p:column headerText="#{msg.labelCustomerRegistrationDate}">
							<h:outputText value="#{cust.registrationDate}" />
						</p:column>

						<p:rowExpansion>
							<p:panelGrid columns="6" style="with=40px">
								<h:outputText value="#{msg.labelAddressStreet}"></h:outputText>
								<h:outputText value="#{customerMB.address.street}"></h:outputText>
								<h:outputText value="#{msg.labelAddressNumber}"></h:outputText>
								<h:outputText value="#{customerMB.address.number}"></h:outputText>
								<h:outputText value="#{msg.labelAddressDistrict}"></h:outputText>
								<h:outputText value="#{customerMB.address.district}"></h:outputText>
							</p:panelGrid>
						</p:rowExpansion>
					</p:dataTable>

					<!-- <h:panelGrid id="result" columns="2" border="2">
						<h:outputText value="Street: " />
						<h:outputText value="#{customerMB.address.street}" />
						<h:outputText value="Number: " />
						<h:outputText value="#{customerMB.address.number}" />
						<h:outputText value="Addition: " />
						<h:outputText value="#{customerMB.address.addition}" />
						<h:outputText value="City: " />
						<h:outputText value="#{customerMB.address.city}" />
						<h:outputText value="District " />
						<h:outputText value="#{customerMB.address.district}" />
						<h:outputText value="State: " />
						<h:outputText value="#{customerMB.address.state}" />
						<h:outputText value="Postal Code: " />
						<h:outputText value="#{customerMB.address.zip}" />
					</h:panelGrid>
					 -->
				</p:panel>
			</h:form>
		</h:body>
	</ui:define>
</ui:composition>
</html>
